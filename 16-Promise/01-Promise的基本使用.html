<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    
    <body>
        <script>
            // 1.使用setTimeout
            // setTimeout(() =>{
            //     console.log('hello world');
            // }, 1000)

            // 参数 -> 函数(resolve, reject)
            // resolve, reject本身他们又是函数
            
            // new Promise((resolve, reject) =>{
            //     setTimeout(() =>{
            //         console.log('hello world');
            //         console.log('hello world');
            //         console.log('hello world');
            //         console.log('hello world');
            //         console.log('hello world');

            //         setTimeout(() =>{
            //             console.log('hello vuejs');
            //             console.log('hello vuejs');
            //             console.log('hello vuejs');
            //             console.log('hello vuejs');
            //             console.log('hello vuejs');

            //             setTimeout(() =>{
            //                 console.log('hello java');
            //                 console.log('hello java');
            //                 console.log('hello java');
            //                 console.log('hello java');
            //                 console.log('hello java');
                            
            //             }, 1000)
            //         }, 1000)
            //     }, 1000)
            // })

            // 第一次网络请求的代码
            new Promise((resolve, reject) =>{
                setTimeout(() =>{
                    resolve()
                }, 1000)
            }).then(() => {
                    // 第一次拿到结果的处理代码
                    console.log('hello world');
                    console.log('hello world');
                    console.log('hello world');
                    console.log('hello world');
                    console.log('hello world');
                    
                    // 第二次网络请求的代码
                    return new Promise((resolve, reject)=>{
                        setTimeout(() =>{
                            resolve()
                        }, 1000)
                    }).then(()=>{

                        // 第二次拿到结果的处理的代码
                        console.log('hello vuejs');
                        console.log('hello vuejs');
                        console.log('hello vuejs');
                        console.log('hello vuejs');
                        console.log('hello vuejs');
                    
                    // 第三次网络请求的代码
                    return  new Promise((resolve, reject)=>{
                            setTimeout(() =>{
                                resolve()
                            }, 1000)
                        }).then(() =>{
                            // 第三次拿到结果的处理的代码
                            console.log('hello java');
                            console.log('hello java');
                            console.log('hello java');
                            console.log('hello java');
                            console.log('hello java');
                                
                        })
                    })
            })

            // 什么情况下会使用Promise
            // 一般情况下是有一部操作时，使用Promise对这个异步操作进行封装
            // new -> 构造函数（1.保存了一些状态信息  2.执行传入的函数）
            // 在执行传入的回调函数时，会传入两个参数，resolve， reject。本身又是函数
            new Promise((resolve, reject)=>{
                // 进行网络请求
                setTimeout(()=>{
                     // 成功的时候调用resolve
                    resolve('hello web')

                    // 失败但是时候调用reject
                    reject('error message')
                    
                },1000)

            }).then((data)=>{
                //进行请求成功数据的代码
                console.log(data);
                
            }).catch( (err) =>{
                //进行请求失败数据的代码
                console.log(err);
            })

        </script>
    </body>

</html>